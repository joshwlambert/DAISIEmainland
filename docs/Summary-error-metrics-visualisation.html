<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>5 Summary and error metrics visualisation | DAISIEmainland: Simulating and analysing macroevolution on island with a dynamic mainland</title>
  <meta name="description" content="This is an introduction to the DAISIEmainland package." />
  <meta name="generator" content="bookdown 0.26 and GitBook 2.6.7" />

  <meta property="og:title" content="5 Summary and error metrics visualisation | DAISIEmainland: Simulating and analysing macroevolution on island with a dynamic mainland" />
  <meta property="og:type" content="book" />
  
  <meta property="og:description" content="This is an introduction to the DAISIEmainland package." />
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="5 Summary and error metrics visualisation | DAISIEmainland: Simulating and analysing macroevolution on island with a dynamic mainland" />
  
  <meta name="twitter:description" content="This is an introduction to the DAISIEmainland package." />
  

<meta name="author" content="Joshua W. Lambert" />


<meta name="date" content="2022-04-28" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="inference-performance.html"/>
<link rel="next" href="references.html"/>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.1.0/anchor-sections.css" rel="stylesheet" />
<link href="libs/anchor-sections-1.1.0/anchor-sections-hash.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.1.0/anchor-sections.js"></script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<style type="text/css">
/* Used with Pandoc 2.11+ new --citeproc when CSL is used */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
}
.hanging div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}
</style>

</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>DAISIEmainland guide</a>
<ul>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#overview"><i class="fa fa-check"></i>Overview</a></li>
</ul></li>
<li class="chapter" data-level="1" data-path="installation.html"><a href="installation.html"><i class="fa fa-check"></i><b>1</b> Installation</a></li>
<li class="chapter" data-level="2" data-path="simulation-algorithm.html"><a href="simulation-algorithm.html"><i class="fa fa-check"></i><b>2</b> Simulation algorithm</a>
<ul>
<li class="chapter" data-level="2.1" data-path="simulation-algorithm.html"><a href="simulation-algorithm.html#mainland-simulation"><i class="fa fa-check"></i><b>2.1</b> Mainland simulation</a></li>
<li class="chapter" data-level="2.2" data-path="simulation-algorithm.html"><a href="simulation-algorithm.html#island-simulation"><i class="fa fa-check"></i><b>2.2</b> Island simulation</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="simulation-data-visualisation.html"><a href="simulation-data-visualisation.html"><i class="fa fa-check"></i><b>3</b> Simulation data visualisation</a>
<ul>
<li class="chapter" data-level="3.1" data-path="simulation-data-visualisation.html"><a href="simulation-data-visualisation.html#visualise-mainland"><i class="fa fa-check"></i><b>3.1</b> Visualise mainland</a></li>
<li class="chapter" data-level="3.2" data-path="simulation-data-visualisation.html"><a href="simulation-data-visualisation.html#visualise-island"><i class="fa fa-check"></i><b>3.2</b> Visualise island</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="inference-performance.html"><a href="inference-performance.html"><i class="fa fa-check"></i><b>4</b> Inference performance</a>
<ul>
<li class="chapter" data-level="4.1" data-path="inference-performance.html"><a href="inference-performance.html#simulating-data"><i class="fa fa-check"></i><b>4.1</b> Simulating data</a></li>
<li class="chapter" data-level="4.2" data-path="inference-performance.html"><a href="inference-performance.html#maximum-likelihood-inference"><i class="fa fa-check"></i><b>4.2</b> Maximum likelihood inference</a></li>
<li class="chapter" data-level="4.3" data-path="inference-performance.html"><a href="inference-performance.html#inference-performance-error-metrics"><i class="fa fa-check"></i><b>4.3</b> Inference performance error metrics</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="summary-error-metrics-visualisation.html"><a href="summary-error-metrics-visualisation.html"><i class="fa fa-check"></i><b>5</b> Summary and error metrics visualisation</a>
<ul>
<li class="chapter" data-level="5.1" data-path="summary-error-metrics-visualisation.html"><a href="summary-error-metrics-visualisation.html#simulation-summary-metrics"><i class="fa fa-check"></i><b>5.1</b> Simulation summary metrics</a></li>
<li class="chapter" data-level="5.2" data-path="summary-error-metrics-visualisation.html"><a href="summary-error-metrics-visualisation.html#inference-error-metrics"><i class="fa fa-check"></i><b>5.2</b> Inference error metrics</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="references.html"><a href="references.html"><i class="fa fa-check"></i><b>6</b> References</a></li>
<li class="appendix"><span><b>Appendix</b></span></li>
<li class="chapter" data-level="A" data-path="data-standards.html"><a href="data-standards.html"><i class="fa fa-check"></i><b>A</b> Data standards</a>
<ul>
<li class="chapter" data-level="A.1" data-path="data-standards.html"><a href="data-standards.html#reasoning"><i class="fa fa-check"></i><b>A.1</b> Reasoning</a></li>
<li class="chapter" data-level="A.2" data-path="data-standards.html"><a href="data-standards.html#data-structure-types"><i class="fa fa-check"></i><b>A.2</b> Data structure types</a>
<ul>
<li class="chapter" data-level="A.2.1" data-path="data-standards.html"><a href="data-standards.html#daisie-mainland-data"><i class="fa fa-check"></i><b>A.2.1</b> <code>daisie_mainland_data</code></a></li>
<li class="chapter" data-level="A.2.2" data-path="data-standards.html"><a href="data-standards.html#multi-daisie-data"><i class="fa fa-check"></i><b>A.2.2</b> <code>multi_daisie_data</code></a></li>
<li class="chapter" data-level="A.2.3" data-path="data-standards.html"><a href="data-standards.html#daisie-data"><i class="fa fa-check"></i><b>A.2.3</b> <code>daisie_data</code></a></li>
<li class="chapter" data-level="A.2.4" data-path="data-standards.html"><a href="data-standards.html#multi-mainland-clade"><i class="fa fa-check"></i><b>A.2.4</b> <code>multi_mainland_clade</code></a></li>
<li class="chapter" data-level="A.2.5" data-path="data-standards.html"><a href="data-standards.html#mainland-clade"><i class="fa fa-check"></i><b>A.2.5</b> <code>mainland_clade</code></a></li>
<li class="chapter" data-level="A.2.6" data-path="data-standards.html"><a href="data-standards.html#island-tbl"><i class="fa fa-check"></i><b>A.2.6</b> <code>island_tbl</code></a></li>
</ul></li>
</ul></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">DAISIEmainland: Simulating and analysing macroevolution on island with a dynamic mainland</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="summary-error-metrics-visualisation" class="section level1 hasAnchor" number="5">
<h1><span class="header-section-number">5</span> Summary and error metrics visualisation<a href="summary-error-metrics-visualisation.html#summary-error-metrics-visualisation" class="anchor-section" aria-label="Anchor link to header"></a></h1>
<p>There is a range of plotting functions to visualise the summary metrics and
error metrics (Section<a href="inference-performance.html#inference-performance-error-metrics">4.3</a>).</p>
<p>For the plotting of simulation summary and error metrics we need to load the
results from multiple different mainland extinction scenarios.</p>
<div class="sourceCode" id="cb24"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb24-1"><a href="summary-error-metrics-visualisation.html#cb24-1" aria-hidden="true" tabindex="-1"></a>analysis_results <span class="ot">&lt;-</span> DAISIEmainland<span class="sc">::</span><span class="fu">read_analysis_results</span>(</span>
<span id="cb24-2"><a href="summary-error-metrics-visualisation.html#cb24-2" aria-hidden="true" tabindex="-1"></a>  <span class="at">data_folder_path =</span> <span class="fu">system.file</span>(</span>
<span id="cb24-3"><a href="summary-error-metrics-visualisation.html#cb24-3" aria-hidden="true" tabindex="-1"></a>    <span class="st">&quot;/inst/book/data/param_sets/&quot;</span>, </span>
<span id="cb24-4"><a href="summary-error-metrics-visualisation.html#cb24-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">package =</span> <span class="st">&quot;DAISIEmainland&quot;</span></span>
<span id="cb24-5"><a href="summary-error-metrics-visualisation.html#cb24-5" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb24-6"><a href="summary-error-metrics-visualisation.html#cb24-6" aria-hidden="true" tabindex="-1"></a>)</span></code></pre></div>
<div id="simulation-summary-metrics" class="section level2 hasAnchor" number="5.1">
<h2><span class="header-section-number">5.1</span> Simulation summary metrics<a href="summary-error-metrics-visualisation.html#simulation-summary-metrics" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>First we run the simulation. This is the same simulation as in the inference
performance section (Section <a href="inference-performance.html#simulating-data">4.1</a>).</p>
<div class="sourceCode" id="cb25"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb25-1"><a href="summary-error-metrics-visualisation.html#cb25-1" aria-hidden="true" tabindex="-1"></a><span class="fu">set.seed</span>(</span>
<span id="cb25-2"><a href="summary-error-metrics-visualisation.html#cb25-2" aria-hidden="true" tabindex="-1"></a>  <span class="dv">1</span>,</span>
<span id="cb25-3"><a href="summary-error-metrics-visualisation.html#cb25-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">kind =</span> <span class="st">&quot;Mersenne-Twister&quot;</span>,</span>
<span id="cb25-4"><a href="summary-error-metrics-visualisation.html#cb25-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">normal.kind =</span> <span class="st">&quot;Inversion&quot;</span>,</span>
<span id="cb25-5"><a href="summary-error-metrics-visualisation.html#cb25-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">sample.kind =</span> <span class="st">&quot;Rejection&quot;</span>)</span>
<span id="cb25-6"><a href="summary-error-metrics-visualisation.html#cb25-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb25-7"><a href="summary-error-metrics-visualisation.html#cb25-7" aria-hidden="true" tabindex="-1"></a>replicates <span class="ot">&lt;-</span> <span class="dv">100</span></span>
<span id="cb25-8"><a href="summary-error-metrics-visualisation.html#cb25-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb25-9"><a href="summary-error-metrics-visualisation.html#cb25-9" aria-hidden="true" tabindex="-1"></a>daisie_mainland_data <span class="ot">&lt;-</span> DAISIEmainland<span class="sc">::</span><span class="fu">sim_island_with_mainland</span>(</span>
<span id="cb25-10"><a href="summary-error-metrics-visualisation.html#cb25-10" aria-hidden="true" tabindex="-1"></a>  <span class="at">total_time =</span> <span class="dv">1</span>,</span>
<span id="cb25-11"><a href="summary-error-metrics-visualisation.html#cb25-11" aria-hidden="true" tabindex="-1"></a>  <span class="at">m =</span> <span class="dv">100</span>,</span>
<span id="cb25-12"><a href="summary-error-metrics-visualisation.html#cb25-12" aria-hidden="true" tabindex="-1"></a>  <span class="at">island_pars =</span> <span class="fu">c</span>(<span class="fl">0.5</span>, <span class="fl">02.5</span>, <span class="dv">50</span>, <span class="fl">0.01</span>, <span class="fl">0.5</span>),</span>
<span id="cb25-13"><a href="summary-error-metrics-visualisation.html#cb25-13" aria-hidden="true" tabindex="-1"></a>  <span class="at">mainland_ex =</span> <span class="fl">1.0</span>,</span>
<span id="cb25-14"><a href="summary-error-metrics-visualisation.html#cb25-14" aria-hidden="true" tabindex="-1"></a>  <span class="at">mainland_sample_prob =</span> <span class="dv">1</span>,</span>
<span id="cb25-15"><a href="summary-error-metrics-visualisation.html#cb25-15" aria-hidden="true" tabindex="-1"></a>  <span class="at">mainland_sample_type =</span> <span class="st">&quot;complete&quot;</span>,</span>
<span id="cb25-16"><a href="summary-error-metrics-visualisation.html#cb25-16" aria-hidden="true" tabindex="-1"></a>  <span class="at">replicates =</span> replicates,</span>
<span id="cb25-17"><a href="summary-error-metrics-visualisation.html#cb25-17" aria-hidden="true" tabindex="-1"></a>  <span class="at">verbose =</span> <span class="cn">FALSE</span></span>
<span id="cb25-18"><a href="summary-error-metrics-visualisation.html#cb25-18" aria-hidden="true" tabindex="-1"></a>)</span></code></pre></div>
<p>The simulation summary metrics we can calculate for the <em>ideal</em> and <em>empirical</em> data are:</p>
<ol style="list-style-type: decimal">
<li>number of species on the island at the end of the simulation</li>
<li>number of colonisation events to the island (that survived to the present) at the end of the simulation</li>
</ol>
<div class="sourceCode" id="cb26"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb26-1"><a href="summary-error-metrics-visualisation.html#cb26-1" aria-hidden="true" tabindex="-1"></a>ideal_sim_num_spec <span class="ot">&lt;-</span> DAISIEmainland<span class="sc">::</span><span class="fu">calc_num_spec</span>(</span>
<span id="cb26-2"><a href="summary-error-metrics-visualisation.html#cb26-2" aria-hidden="true" tabindex="-1"></a>  <span class="at">multi_daisie_data =</span> daisie_mainland_data<span class="sc">$</span>ideal_multi_daisie_data</span>
<span id="cb26-3"><a href="summary-error-metrics-visualisation.html#cb26-3" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb26-4"><a href="summary-error-metrics-visualisation.html#cb26-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb26-5"><a href="summary-error-metrics-visualisation.html#cb26-5" aria-hidden="true" tabindex="-1"></a>ideal_sim_num_spec</span>
<span id="cb26-6"><a href="summary-error-metrics-visualisation.html#cb26-6" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   [1] 120  94  89  76  63  91  93  81  58 135  95  78 118  93  97 115 109 128 142  73  71  55 109 102 123 134  93 103</span></span>
<span id="cb26-7"><a href="summary-error-metrics-visualisation.html#cb26-7" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  [29]  82  73 125  91  83  85 100 107  88  94  95 138 116  89  86 119  60  83 103  87 106 114  72 133 113  80 131  92</span></span>
<span id="cb26-8"><a href="summary-error-metrics-visualisation.html#cb26-8" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  [57]  95  81  91  79  66 120 107  69  91  80  71 138 101  99  78  52 173 125  83  76  78  59  94  98 104  68  81  80</span></span>
<span id="cb26-9"><a href="summary-error-metrics-visualisation.html#cb26-9" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  [85]  74  94 113  96  76 113  78  85  67 123  70  73  63 127 105  85</span></span></code></pre></div>
<div class="sourceCode" id="cb27"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb27-1"><a href="summary-error-metrics-visualisation.html#cb27-1" aria-hidden="true" tabindex="-1"></a>ideal_sim_num_col <span class="ot">&lt;-</span> DAISIEmainland<span class="sc">::</span><span class="fu">calc_num_col</span>(</span>
<span id="cb27-2"><a href="summary-error-metrics-visualisation.html#cb27-2" aria-hidden="true" tabindex="-1"></a>  <span class="at">multi_daisie_data =</span> daisie_mainland_data<span class="sc">$</span>ideal_multi_daisie_data</span>
<span id="cb27-3"><a href="summary-error-metrics-visualisation.html#cb27-3" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb27-4"><a href="summary-error-metrics-visualisation.html#cb27-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-5"><a href="summary-error-metrics-visualisation.html#cb27-5" aria-hidden="true" tabindex="-1"></a>ideal_sim_num_col</span>
<span id="cb27-6"><a href="summary-error-metrics-visualisation.html#cb27-6" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   [1] 44 33 39 28 29 30 33 35 28 42 36 32 46 38 30 38 45 40 40 28 28 28 41 34 39 45 34 32 33 29 31 36 33 32 38 34 36 31</span></span>
<span id="cb27-7"><a href="summary-error-metrics-visualisation.html#cb27-7" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  [39] 29 41 43 34 36 34 24 30 33 28 42 37 24 37 43 33 45 35 27 37 37 28 29 40 36 30 31 32 27 48 40 47 30 22 41 38 37 27</span></span>
<span id="cb27-8"><a href="summary-error-metrics-visualisation.html#cb27-8" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  [77] 35 28 37 33 40 27 38 30 35 38 39 37 30 37 31 33 25 42 35 37 29 31 31 36</span></span></code></pre></div>
<div class="sourceCode" id="cb28"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb28-1"><a href="summary-error-metrics-visualisation.html#cb28-1" aria-hidden="true" tabindex="-1"></a>empirical_sim_num_spec <span class="ot">&lt;-</span> DAISIEmainland<span class="sc">::</span><span class="fu">calc_num_spec</span>(</span>
<span id="cb28-2"><a href="summary-error-metrics-visualisation.html#cb28-2" aria-hidden="true" tabindex="-1"></a>  <span class="at">multi_daisie_data =</span> daisie_mainland_data<span class="sc">$</span>empirical_multi_daisie_data</span>
<span id="cb28-3"><a href="summary-error-metrics-visualisation.html#cb28-3" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb28-4"><a href="summary-error-metrics-visualisation.html#cb28-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-5"><a href="summary-error-metrics-visualisation.html#cb28-5" aria-hidden="true" tabindex="-1"></a>empirical_sim_num_spec</span>
<span id="cb28-6"><a href="summary-error-metrics-visualisation.html#cb28-6" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   [1] 120  94  89  76  63  91  93  81  58 135  95  78 118  93  97 115 109 128 142  73  71  55 109 102 123 134  93 103</span></span>
<span id="cb28-7"><a href="summary-error-metrics-visualisation.html#cb28-7" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  [29]  82  73 125  91  83  85 100 107  88  94  95 138 116  89  86 119  60  83 103  87 106 114  72 133 113  80 131  92</span></span>
<span id="cb28-8"><a href="summary-error-metrics-visualisation.html#cb28-8" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  [57]  95  81  91  79  66 120 107  69  91  80  71 138 101  99  78  52 173 125  83  76  78  59  94  98 104  68  81  80</span></span>
<span id="cb28-9"><a href="summary-error-metrics-visualisation.html#cb28-9" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  [85]  74  94 113  96  76 113  78  85  67 123  70  73  63 127 105  85</span></span></code></pre></div>
<div class="sourceCode" id="cb29"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb29-1"><a href="summary-error-metrics-visualisation.html#cb29-1" aria-hidden="true" tabindex="-1"></a>empirical_sim_num_col <span class="ot">&lt;-</span> DAISIEmainland<span class="sc">::</span><span class="fu">calc_num_col</span>(</span>
<span id="cb29-2"><a href="summary-error-metrics-visualisation.html#cb29-2" aria-hidden="true" tabindex="-1"></a>  <span class="at">multi_daisie_data =</span> daisie_mainland_data<span class="sc">$</span>empirical_multi_daisie_data</span>
<span id="cb29-3"><a href="summary-error-metrics-visualisation.html#cb29-3" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb29-4"><a href="summary-error-metrics-visualisation.html#cb29-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-5"><a href="summary-error-metrics-visualisation.html#cb29-5" aria-hidden="true" tabindex="-1"></a>empirical_sim_num_col</span>
<span id="cb29-6"><a href="summary-error-metrics-visualisation.html#cb29-6" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;   [1] 43 33 38 28 28 28 32 33 28 42 36 32 46 37 30 37 43 39 38 28 27 28 39 34 39 45 34 32 33 29 31 36 32 30 36 33 34 31</span></span>
<span id="cb29-7"><a href="summary-error-metrics-visualisation.html#cb29-7" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  [39] 29 40 41 32 36 33 24 29 32 28 40 34 23 36 42 33 44 35 27 35 36 28 28 40 35 30 30 32 27 44 40 44 29 22 40 38 37 25</span></span>
<span id="cb29-8"><a href="summary-error-metrics-visualisation.html#cb29-8" aria-hidden="true" tabindex="-1"></a><span class="co">#&gt;  [77] 34 27 35 33 39 26 38 30 35 37 39 37 29 37 30 33 25 42 35 36 29 31 30 35</span></span></code></pre></div>
<p>We can plot the simulation summary metrics to view the mean, variance, maximum and
minimum number of colonisations and number of species for the <em>ideal</em> and <em>empirical</em>
data.</p>
<div class="sourceCode" id="cb30"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb30-1"><a href="summary-error-metrics-visualisation.html#cb30-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plot_sim_metrics</span>(</span>
<span id="cb30-2"><a href="summary-error-metrics-visualisation.html#cb30-2" aria-hidden="true" tabindex="-1"></a>  <span class="at">analysis_results =</span> analysis_results, </span>
<span id="cb30-3"><a href="summary-error-metrics-visualisation.html#cb30-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">output_file_path =</span> <span class="cn">NULL</span></span>
<span id="cb30-4"><a href="summary-error-metrics-visualisation.html#cb30-4" aria-hidden="true" tabindex="-1"></a>)</span></code></pre></div>
<p><img src="DAISIEmainland_guide_files/figure-html/plot-simulation-summary-metrics-1.png" width="672" style="display: block; margin: auto;" /></p>
</div>
<div id="inference-error-metrics" class="section level2 hasAnchor" number="5.2">
<h2><span class="header-section-number">5.2</span> Inference error metrics<a href="summary-error-metrics-visualisation.html#inference-error-metrics" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>The error metrics were run for a range of mainland extinction rates. Then the
error metrics can be plotted across different rates to determine how the error
varies with faster or slower mainland evolutionary dynamics.</p>
<p>Plotting the <span class="math inline">\(\Delta\)</span>CTT across mainland extinction rates between zero and two
(per species per million years). As explained in Section
<a href="inference-performance.html#inference-performance-error-metrics">4.3</a> this metric is a comparison between
the <em>ideal</em> and <em>empirical</em> data sets produced by the <code>DAISIEmainland</code> simulation.</p>
<div class="sourceCode" id="cb31"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb31-1"><a href="summary-error-metrics-visualisation.html#cb31-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plot_ctt_boxplot</span>(</span>
<span id="cb31-2"><a href="summary-error-metrics-visualisation.html#cb31-2" aria-hidden="true" tabindex="-1"></a>  <span class="at">analysis_results =</span> analysis_results, </span>
<span id="cb31-3"><a href="summary-error-metrics-visualisation.html#cb31-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">output_file_path =</span> <span class="cn">NULL</span>,</span>
<span id="cb31-4"><a href="summary-error-metrics-visualisation.html#cb31-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">parameter =</span> <span class="st">&quot;mainland_ex&quot;</span></span>
<span id="cb31-5"><a href="summary-error-metrics-visualisation.html#cb31-5" aria-hidden="true" tabindex="-1"></a>)</span></code></pre></div>
<p><img src="DAISIEmainland_guide_files/figure-html/plot-delta-ctt-1.png" width="672" style="display: block; margin: auto;" /></p>
<p>The percentage of endemics on the island at the end of the simulation and
percentage of maximum age colonisation times can be plotted for different values
of mainland extinction. Each of the boxplots below contains 100 island replicates.
The left hand panel is for the data set with complete information (<em>ideal</em>) and
the right hand panel is for the data set with incomplete information (<em>empirical</em>).</p>
<div class="sourceCode" id="cb32"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb32-1"><a href="summary-error-metrics-visualisation.html#cb32-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plot_endemics</span>(</span>
<span id="cb32-2"><a href="summary-error-metrics-visualisation.html#cb32-2" aria-hidden="true" tabindex="-1"></a>  <span class="at">analysis_results =</span> analysis_results, </span>
<span id="cb32-3"><a href="summary-error-metrics-visualisation.html#cb32-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">output_file_path =</span> <span class="cn">NULL</span>, </span>
<span id="cb32-4"><a href="summary-error-metrics-visualisation.html#cb32-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">parameter =</span> <span class="st">&quot;mainland_ex&quot;</span></span>
<span id="cb32-5"><a href="summary-error-metrics-visualisation.html#cb32-5" aria-hidden="true" tabindex="-1"></a>) </span></code></pre></div>
<p><img src="DAISIEmainland_guide_files/figure-html/plot-endemics-1.png" width="672" style="display: block; margin: auto;" /></p>
<div class="sourceCode" id="cb33"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb33-1"><a href="summary-error-metrics-visualisation.html#cb33-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plot_max_age</span>(</span>
<span id="cb33-2"><a href="summary-error-metrics-visualisation.html#cb33-2" aria-hidden="true" tabindex="-1"></a>  <span class="at">analysis_results =</span> analysis_results, </span>
<span id="cb33-3"><a href="summary-error-metrics-visualisation.html#cb33-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">output_file_path =</span> <span class="cn">NULL</span>, </span>
<span id="cb33-4"><a href="summary-error-metrics-visualisation.html#cb33-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">parameter =</span> <span class="st">&quot;mainland_ex&quot;</span></span>
<span id="cb33-5"><a href="summary-error-metrics-visualisation.html#cb33-5" aria-hidden="true" tabindex="-1"></a>)</span></code></pre></div>
<p><img src="DAISIEmainland_guide_files/figure-html/plot-max-age-1.png" width="672" style="display: block; margin: auto;" /></p>
<p>Error metrics can also be plotted across different values of mainland sampling
probability by setting the <code>parameter = "mainland_sample_prob</code> in the plotting
functions.</p>
<p>The plots shown in this chapter are not an exhaustive list available from the
package. The script used to make the plots for the two manuscripts using this
package can be found at /scripts/joss_data_vis.R and /scripts/evolution_data_vis.R,
respectively, in the <code>DAISIEmainland</code> package.</p>

</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="inference-performance.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="references.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": null,
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "subsection"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
